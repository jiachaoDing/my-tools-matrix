<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON to CSV Converter - Free & Secure | WebUtilityKit</title>
    <meta name="description" content="Convert JSON data to CSV format instantly. Secure client-side processing with automatic column detection and custom delimiter support.">
    <link href="../assets/css/styles.css" rel="stylesheet">
    
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100 font-sans min-h-screen flex flex-col transition-colors">
    
    <header class="border-b border-slate-200/70 dark:border-slate-800/80 bg-white/80 dark:bg-slate-900/80 backdrop-blur">
        <nav class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between gap-4">
            <a href="/" class="flex items-center gap-2 text-xl font-bold tracking-tight text-blue-600 dark:text-blue-400">
                WebUtilityKit<span class="text-slate-400 font-normal">.com</span>
            </a>
            <div class="flex items-center gap-3 text-sm text-slate-600 dark:text-slate-300">
                <span class="hidden sm:inline">100+ privacy-first tools</span>
                <a href="mailto:yinb9933@gmail.com" 
                   class="flex items-center gap-2 rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition"
                   title="Contact us for feedback or suggestions">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    <span class="hidden md:inline">Contact</span>
                </a>
                <button id="theme-toggle" class="flex items-center gap-2 rounded-lg border border-slate-200 dark:border-slate-700 px-3 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition">
                    <span id="theme-icon">ðŸŒ—</span>
                    <span class="hidden sm:inline">Toggle theme</span>
                </button>
            </div>
        </nav>
    </header>

    <main class="flex-grow w-full py-12 px-4 sm:px-6">
        
        <div class="max-w-4xl mx-auto text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4 text-slate-900 dark:text-white">JSON to CSV Converter</h1>
            <p class="text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto">Transform JSON arrays into CSV format instantly with automatic column detection and flexible export options.</p>
            <div class="mt-6 flex items-center justify-center gap-2 text-sm font-medium text-green-700 dark:text-green-400 bg-green-100/50 dark:bg-green-900/20 py-1.5 px-4 rounded-full w-fit mx-auto">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                <span>100% Secure. Processed locally.</span>
            </div>
        </div>

        <div id="tool-wrapper" class="w-full max-w-[1920px] px-6 mx-auto mb-24">
            <div class="grid grid-cols-1 xl:grid-cols-2 gap-8 items-start">
                
                <!-- Input Section -->
                <div class="flex flex-col h-full">
                    <div class="bg-white dark:bg-slate-800/50 rounded-3xl overflow-hidden flex flex-col h-full">
                        <div class="p-6 flex flex-col flex-1">
                            <div class="flex items-center justify-between mb-4">
                                <label class="text-sm font-semibold uppercase tracking-wider text-slate-500">JSON Data</label>
                                <div class="flex gap-2">
                                    <button id="upload-btn" class="text-xs px-3 py-1.5 rounded-lg bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/40 transition flex items-center gap-1.5">
                                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                                        Upload Files
                                    </button>
                                    <button id="paste-btn" class="text-xs px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition flex items-center gap-1.5">
                                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                                        Paste
                                    </button>
                                    <button id="clear-btn" class="text-xs px-3 py-1.5 rounded-lg bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 transition flex items-center gap-1.5">
                                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                                        Clear
                                    </button>
                                </div>
                            </div>

                            <!-- Drag & Drop Zone -->
                            <div id="drop-zone" class="relative flex-1 border-2 border-dashed border-blue-300 dark:border-blue-600 rounded-2xl transition-all hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50/30 dark:hover:bg-blue-900/20 cursor-pointer bg-slate-50/50 dark:bg-slate-900/30">
                                <input type="file" id="file-input" accept=".json,.txt" multiple class="hidden">
                                <textarea 
                                    id="json-input" 
                                    class="absolute inset-0 w-full h-full p-6 pt-14 text-sm font-mono bg-transparent border-0 focus:ring-0 resize-none placeholder-slate-400 transition z-10"
                                    placeholder='[{"name":"John","age":30},{"name":"Jane","age":25}]'
                                ></textarea>
                                <!-- Drop Zone Hint -->
                                <div class="absolute top-3 left-0 right-0 text-center pointer-events-none z-0">
                                    <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 rounded-lg text-xs font-medium">
                                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                                        Click or drag JSON files here, or paste text below
                                    </div>
                                </div>
                                <div id="drop-overlay" class="absolute inset-0 hidden items-center justify-center bg-blue-100/95 dark:bg-blue-900/95 backdrop-blur-sm rounded-2xl z-20 border-2 border-blue-500 dark:border-blue-400">
                                    <div class="text-center">
                                        <svg class="w-20 h-20 mx-auto text-blue-600 dark:text-blue-300 mb-4 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                                        <p class="text-2xl font-bold text-blue-900 dark:text-blue-100 mb-2">Drop files here</p>
                                        <p class="text-sm text-blue-700 dark:text-blue-300">Supports multiple .json or .txt files</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Uploaded Files List -->
                            <div id="uploaded-files" class="mt-4 hidden">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs font-semibold uppercase tracking-wider text-slate-500">Uploaded Files</span>
                                    <span id="file-count" class="text-xs text-slate-600 dark:text-slate-400"></span>
                                </div>
                                <div id="file-list" class="space-y-2 max-h-32 overflow-y-auto"></div>
                            </div>

                            <!-- Status Badge -->
                            <div id="input-status" class="mt-4 flex items-center gap-2 text-sm font-medium hidden">
                                <svg id="status-icon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"></svg>
                                <span id="status-text"></span>
                            </div>
                        </div>
                        
                        <!-- Settings & Action -->
                        <div class="p-6 pt-0 space-y-4">
                            <!-- Options -->
                            <div class="bg-slate-50 dark:bg-slate-900/50 rounded-2xl p-4 space-y-3">
                                <div class="flex items-center justify-between">
                                    <label for="delimiter" class="text-xs font-semibold uppercase tracking-wider text-slate-500">Delimiter</label>
                                    <select id="delimiter" class="text-sm px-3 py-1.5 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/20 transition">
                                        <option value=",">Comma (,)</option>
                                        <option value=";">Semicolon (;)</option>
                                        <option value="\t">Tab</option>
                                        <option value="|">Pipe (|)</option>
                                    </select>
                                </div>
                                <div class="flex items-center justify-between">
                                    <label for="include-header" class="text-xs font-semibold uppercase tracking-wider text-slate-500">Include Header</label>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" id="include-header" class="sr-only peer" checked>
                                        <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500/20 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                                    </label>
                                </div>
                            </div>
                            
                            <button id="convert-btn" class="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-2xl transition-all shadow-lg shadow-blue-500/20 active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                                <span id="convert-btn-text">Convert to CSV</span>
                            </button>
                            
                            <button id="sample-btn" class="w-full py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-semibold rounded-2xl transition-all active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                Load Sample
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Output Section -->
                <div class="flex flex-col h-full">
                    <div class="bg-white dark:bg-slate-800/50 rounded-3xl overflow-hidden flex flex-col h-full">
                        <div class="p-6 flex flex-col flex-1">
                            <div class="flex items-center justify-between mb-4">
                                <label for="csv-output" class="text-sm font-semibold uppercase tracking-wider text-slate-500">CSV Output</label>
                                <div class="flex gap-2">
                                    <button id="copy-btn" class="text-xs px-3 py-1.5 rounded-lg bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/40 transition flex items-center gap-1.5">
                                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                                        Copy
                                    </button>
                                </div>
                            </div>
                            <textarea 
                                id="csv-output" 
                                class="flex-1 w-full min-h-[450px] p-6 text-sm font-mono bg-slate-50/50 dark:bg-slate-900/50 border-0 focus:ring-2 focus:ring-green-500/20 rounded-2xl resize-none placeholder-slate-400 transition"
                                placeholder="CSV data will appear here..."
                                readonly
                            ></textarea>
                            
                            <!-- Processed Files List -->
                            <div id="processed-files" class="mt-4 hidden">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs font-semibold uppercase tracking-wider text-slate-500">Processed Files</span>
                                    <button id="download-all-btn" class="text-xs px-3 py-1 rounded-lg bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition flex items-center gap-1.5">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                        Download All
                                    </button>
                                </div>
                                <div id="processed-list" class="space-y-2 max-h-48 overflow-y-auto"></div>
                            </div>

                            <!-- Stats -->
                            <div class="mt-4 grid grid-cols-3 gap-4">
                                <div class="text-center">
                                    <div class="text-xs text-slate-500 dark:text-slate-400 font-medium uppercase">Rows</div>
                                    <div id="stat-rows" class="text-sm font-bold text-slate-700 dark:text-slate-300 mt-1">0</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-slate-500 dark:text-slate-400 font-medium uppercase">Columns</div>
                                    <div id="stat-columns" class="text-sm font-bold text-slate-700 dark:text-slate-300 mt-1">0</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-xs text-slate-500 dark:text-slate-400 font-medium uppercase">Size</div>
                                    <div id="stat-size" class="text-sm font-bold text-slate-700 dark:text-slate-300 mt-1">0 B</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Result Message -->
                        <div class="p-6 pt-0">
                            <div id="result-message" class="p-4 rounded-2xl bg-slate-100 dark:bg-slate-900/50 hidden">
                                <div class="flex items-start gap-3">
                                    <svg id="result-icon" class="w-5 h-5 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"></svg>
                                    <div class="flex-1">
                                        <div id="result-title" class="font-semibold text-sm mb-1"></div>
                                        <div id="result-text" class="text-xs text-slate-600 dark:text-slate-400"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Editorial Section -->
        <div class="max-w-5xl mx-auto border-t border-slate-200 dark:border-slate-800 pt-24 pb-24">
            <article class="space-y-24">
                
                <!-- Section 1: How to use -->
                <section>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-12 text-center">How to use JSON to CSV Converter</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="relative p-8 rounded-[2.5rem] bg-white dark:bg-slate-800/40 border border-slate-100 dark:border-slate-700/50 hover:shadow-2xl hover:shadow-blue-500/5 transition-all group">
                            <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center font-bold text-2xl shadow-lg shadow-blue-500/30 mb-6 group-hover:scale-110 transition-transform">1</div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Input JSON Data</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed text-sm">Paste your JSON array, upload JSON files, or click "Load Sample" to try with example data. Supports multiple file uploads for batch processing.</p>
                        </div>
                        <div class="relative p-8 rounded-[2.5rem] bg-white dark:bg-slate-800/40 border border-slate-100 dark:border-slate-700/50 hover:shadow-2xl hover:shadow-blue-500/5 transition-all group">
                            <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center font-bold text-2xl shadow-lg shadow-blue-500/30 mb-6 group-hover:scale-110 transition-transform">2</div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Configure Options</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed text-sm">Choose your preferred delimiter (comma, semicolon, tab, or pipe) and decide whether to include column headers in the output.</p>
                        </div>
                        <div class="relative p-8 rounded-[2.5rem] bg-white dark:bg-slate-800/40 border border-slate-100 dark:border-slate-700/50 hover:shadow-2xl hover:shadow-blue-500/5 transition-all group">
                            <div class="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center font-bold text-2xl shadow-lg shadow-blue-500/30 mb-6 group-hover:scale-110 transition-transform">3</div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Convert & Download</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed text-sm">Click "Convert to CSV" to transform your data. Copy the result to clipboard or download individual files or all at once.</p>
                        </div>
                    </div>
                </section>

                <!-- Section 2: Key Features -->
                <section>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-12 text-center">Powerful Features</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="p-8 rounded-[2.5rem] bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-900/20 dark:to-blue-800/10 border border-blue-200/50 dark:border-blue-800/30">
                            <div class="w-14 h-14 bg-blue-600 text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Batch Processing</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Upload and convert multiple JSON files at once. Process hundreds of files in seconds with individual download options.</p>
                        </div>
                        <div class="p-8 rounded-[2.5rem] bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-900/20 dark:to-green-800/10 border border-green-200/50 dark:border-green-800/30">
                            <div class="w-14 h-14 bg-green-600 text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">100% Privacy</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">All conversions happen locally in your browser. No data is uploaded to any server, ensuring complete privacy and security.</p>
                        </div>
                        <div class="p-8 rounded-[2.5rem] bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-900/20 dark:to-purple-800/10 border border-purple-200/50 dark:border-purple-800/30">
                            <div class="w-14 h-14 bg-purple-600 text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Smart Column Detection</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Automatically detects all columns from your JSON data, handles nested objects, and flattens arrays for perfect CSV output.</p>
                        </div>
                        <div class="p-8 rounded-[2.5rem] bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-900/20 dark:to-orange-800/10 border border-orange-200/50 dark:border-orange-800/30">
                            <div class="w-14 h-14 bg-orange-600 text-white rounded-2xl flex items-center justify-center mb-6 shadow-lg">
                                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-3">Custom Delimiters</h3>
                            <p class="text-slate-600 dark:text-slate-400 leading-relaxed">Choose from comma, semicolon, tab, or pipe delimiters to match your specific requirements or regional CSV formats.</p>
                        </div>
                    </div>
                </section>

                <!-- Section 3: Use Cases -->
                <section class="bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-800/50 dark:to-slate-800/20 rounded-[3rem] p-12 border border-slate-200/50 dark:border-slate-700/30">
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-12 text-center">Perfect For</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                        <div class="bg-white dark:bg-slate-800/60 p-6 rounded-3xl border border-slate-200 dark:border-slate-700">
                            <div class="text-4xl mb-4">ðŸ“Š</div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-2">Data Analysis</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400">Convert API responses to CSV for Excel, Google Sheets, or data analysis tools.</p>
                        </div>
                        <div class="bg-white dark:bg-slate-800/60 p-6 rounded-3xl border border-slate-200 dark:border-slate-700">
                            <div class="text-4xl mb-4">ðŸ”„</div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-2">Data Migration</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400">Export JSON databases to CSV format for importing into other systems.</p>
                        </div>
                        <div class="bg-white dark:bg-slate-800/60 p-6 rounded-3xl border border-slate-200 dark:border-slate-700">
                            <div class="text-4xl mb-4">ðŸ“ˆ</div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-2">Report Generation</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400">Create CSV reports from JSON logs for business intelligence and reporting.</p>
                        </div>
                    </div>
                </section>

                <!-- Section 4: FAQ -->
                <section>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-12 text-center italic">Frequently Asked Questions</h2>
                    <div class="max-w-3xl mx-auto space-y-4">
                        <details class="group bg-slate-50 dark:bg-slate-800/20 rounded-3xl p-8 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800/40 transition-all border border-transparent hover:border-blue-500/10">
                            <summary class="flex justify-between items-center font-bold text-slate-900 dark:text-white list-none">
                                <span class="text-xl">What JSON format is supported?</span>
                                <span class="transition-transform group-open:rotate-180 bg-white dark:bg-slate-700 p-2 rounded-xl shadow-sm">
                                    <svg fill="none" height="20" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" width="20"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-slate-600 dark:text-slate-400 mt-6 leading-relaxed text-lg">
                                The tool accepts JSON arrays of objects (e.g., <code>[{...}, {...}]</code>). Each object in the array becomes a row in the CSV, and the object keys become column headers. Nested objects are automatically flattened.
                            </div>
                        </details>
                        
                        <details class="group bg-slate-50 dark:bg-slate-800/20 rounded-3xl p-8 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800/40 transition-all border border-transparent hover:border-blue-500/10">
                            <summary class="flex justify-between items-center font-bold text-slate-900 dark:text-white list-none">
                                <span class="text-xl">How are nested objects handled?</span>
                                <span class="transition-transform group-open:rotate-180 bg-white dark:bg-slate-700 p-2 rounded-xl shadow-sm">
                                    <svg fill="none" height="20" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" width="20"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-slate-600 dark:text-slate-400 mt-6 leading-relaxed text-lg">
                                Nested objects are flattened using dot notation. For example, <code>{"user": {"name": "John"}}</code> becomes a column named "user.name". Arrays are converted to JSON strings to preserve data integrity.
                            </div>
                        </details>

                        <details class="group bg-slate-50 dark:bg-slate-800/20 rounded-3xl p-8 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800/40 transition-all border border-transparent hover:border-blue-500/10">
                            <summary class="flex justify-between items-center font-bold text-slate-900 dark:text-white list-none">
                                <span class="text-xl">Can I convert multiple files at once?</span>
                                <span class="transition-transform group-open:rotate-180 bg-white dark:bg-slate-700 p-2 rounded-xl shadow-sm">
                                    <svg fill="none" height="20" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" width="20"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-slate-600 dark:text-slate-400 mt-6 leading-relaxed text-lg">
                                Yes! Upload multiple JSON files by selecting them together or dragging them into the drop zone. Each file will be converted separately, and you can download them individually or all at once.
                            </div>
                        </details>

                        <details class="group bg-slate-50 dark:bg-slate-800/20 rounded-3xl p-8 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800/40 transition-all border border-transparent hover:border-blue-500/10">
                            <summary class="flex justify-between items-center font-bold text-slate-900 dark:text-white list-none">
                                <span class="text-xl">Which delimiter should I choose?</span>
                                <span class="transition-transform group-open:rotate-180 bg-white dark:bg-slate-700 p-2 rounded-xl shadow-sm">
                                    <svg fill="none" height="20" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" width="20"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-slate-600 dark:text-slate-400 mt-6 leading-relaxed text-lg">
                                Comma (,) is the standard and works with most spreadsheet applications. Use semicolon (;) for European Excel versions. Tab is great for text editors, and pipe (|) helps when your data contains commas.
                            </div>
                        </details>

                        <details class="group bg-slate-50 dark:bg-slate-800/20 rounded-3xl p-8 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800/40 transition-all border border-transparent hover:border-blue-500/10">
                            <summary class="flex justify-between items-center font-bold text-slate-900 dark:text-white list-none">
                                <span class="text-xl">Is my data safe?</span>
                                <span class="transition-transform group-open:rotate-180 bg-white dark:bg-slate-700 p-2 rounded-xl shadow-sm">
                                    <svg fill="none" height="20" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24" width="20"><path d="M6 9l6 6 6-6"></path></svg>
                                </span>
                            </summary>
                            <div class="text-slate-600 dark:text-slate-400 mt-6 leading-relaxed text-lg">
                                Absolutely! All conversions happen entirely in your browser using JavaScript. Your JSON data never leaves your device or gets sent to any server, making it safe for confidential or sensitive information.
                            </div>
                        </details>
                    </div>
                </section>
            </article>
        </div>

    </main>

    <footer class="border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur">
        <div class="max-w-7xl mx-auto px-4 py-8 text-sm text-slate-600 dark:text-slate-400 flex flex-col sm:flex-row items-center justify-between gap-3">
            <div>&copy; 2025 WebUtilityKit.com</div>
            <div class="text-slate-500 dark:text-slate-400">Client-side by design. Built for Cloudflare Pages.</div>
        </div>
    </footer>


    <script>
        // === Theme Logic ===
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        function updateTheme() {
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                html.classList.add('dark');
            } else { html.classList.remove('dark'); }
        }
        updateTheme();
        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
        });

        // === Tool Logic ===
        const jsonInput = document.getElementById('json-input');
        const csvOutput = document.getElementById('csv-output');
        const fileInput = document.getElementById('file-input');
        const dropZone = document.getElementById('drop-zone');
        const dropOverlay = document.getElementById('drop-overlay');
        const uploadedFilesSection = document.getElementById('uploaded-files');
        const fileList = document.getElementById('file-list');
        const fileCount = document.getElementById('file-count');
        const processedFilesSection = document.getElementById('processed-files');
        const processedList = document.getElementById('processed-list');
        
        const delimiterSelect = document.getElementById('delimiter');
        const includeHeaderCheckbox = document.getElementById('include-header');
        
        const uploadBtn = document.getElementById('upload-btn');
        const pasteBtn = document.getElementById('paste-btn');
        const clearBtn = document.getElementById('clear-btn');
        const convertBtn = document.getElementById('convert-btn');
        const convertBtnText = document.getElementById('convert-btn-text');
        const sampleBtn = document.getElementById('sample-btn');
        const copyBtn = document.getElementById('copy-btn');
        const downloadAllBtn = document.getElementById('download-all-btn');
        
        const inputStatus = document.getElementById('input-status');
        const statusIcon = document.getElementById('status-icon');
        const statusText = document.getElementById('status-text');
        
        const resultMessage = document.getElementById('result-message');
        const resultIcon = document.getElementById('result-icon');
        const resultTitle = document.getElementById('result-title');
        const resultText = document.getElementById('result-text');
        
        const statRows = document.getElementById('stat-rows');
        const statColumns = document.getElementById('stat-columns');
        const statSize = document.getElementById('stat-size');

        let uploadedFiles = [];
        let processedResults = [];

        // Sample data
        const sampleData = [
            {"id": 1, "name": "John Doe", "email": "john@example.com", "age": 30, "city": "New York", "active": true},
            {"id": 2, "name": "Jane Smith", "email": "jane@example.com", "age": 25, "city": "Los Angeles", "active": true},
            {"id": 3, "name": "Bob Johnson", "email": "bob@example.com", "age": 35, "city": "Chicago", "active": false},
            {"id": 4, "name": "Alice Williams", "email": "alice@example.com", "age": 28, "city": "Houston", "active": true}
        ];

        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return (bytes / Math.pow(k, i)).toFixed(2) + ' ' + sizes[i];
        }

        function showResult(type, title, text) {
            resultMessage.classList.remove('hidden');
            resultMessage.classList.remove('bg-green-50', 'dark:bg-green-900/20', 'bg-red-50', 'dark:bg-red-900/20');
            
            if (type === 'success') {
                resultMessage.classList.add('bg-green-50', 'dark:bg-green-900/20');
                resultIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
                resultIcon.classList.add('text-green-600', 'dark:text-green-400');
                resultIcon.classList.remove('text-red-600', 'dark:text-red-400');
                resultTitle.classList.add('text-green-700', 'dark:text-green-400');
                resultTitle.classList.remove('text-red-700', 'dark:text-red-400');
            } else {
                resultMessage.classList.add('bg-red-50', 'dark:bg-red-900/20');
                resultIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
                resultIcon.classList.add('text-red-600', 'dark:text-red-400');
                resultIcon.classList.remove('text-green-600', 'dark:text-green-400');
                resultTitle.classList.add('text-red-700', 'dark:text-red-400');
                resultTitle.classList.remove('text-green-700', 'dark:text-green-400');
            }
            
            resultTitle.textContent = title;
            resultText.textContent = text;
        }

        function hideResult() {
            resultMessage.classList.add('hidden');
        }

        function updateStats(csv, rows, cols) {
            statRows.textContent = rows.toLocaleString();
            statColumns.textContent = cols.toLocaleString();
            const bytes = new Blob([csv]).size;
            statSize.textContent = formatBytes(bytes);
        }

        function updateFileList() {
            if (uploadedFiles.length === 0) {
                uploadedFilesSection.classList.add('hidden');
                fileList.innerHTML = '';
                convertBtnText.textContent = 'Convert to CSV';
                return;
            }
            
            uploadedFilesSection.classList.remove('hidden');
            fileCount.textContent = `${uploadedFiles.length} file${uploadedFiles.length > 1 ? 's' : ''}`;
            convertBtnText.textContent = `Process ${uploadedFiles.length} File${uploadedFiles.length > 1 ? 's' : ''}`;
            
            fileList.innerHTML = uploadedFiles.map((file, index) => `
                <div class="flex items-center justify-between p-2 bg-slate-100 dark:bg-slate-800 rounded-lg text-xs">
                    <div class="flex items-center gap-2 flex-1 min-w-0">
                        <svg class="w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                        <span class="font-medium truncate">${file.name}</span>
                        <span class="text-slate-500 dark:text-slate-400">(${formatBytes(file.size)})</span>
                    </div>
                    <button onclick="removeFile(${index})" class="ml-2 p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded text-red-600 dark:text-red-400 transition">
                        <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
            `).join('');
        }

        function updateProcessedList() {
            if (processedResults.length === 0) {
                processedFilesSection.classList.add('hidden');
                return;
            }
            
            processedFilesSection.classList.remove('hidden');
            processedList.innerHTML = processedResults.map((result, index) => `
                <div class="flex items-center justify-between p-3 bg-slate-100 dark:bg-slate-800 rounded-lg text-xs">
                    <div class="flex items-center gap-2 flex-1 min-w-0">
                        <svg class="w-4 h-4 ${result.success ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'} flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            ${result.success ? 
                                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>' : 
                                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'}
                        </svg>
                        <div class="flex-1 min-w-0">
                            <div class="font-medium truncate">${result.fileName}</div>
                            ${result.success ? 
                                `<div class="text-slate-500 dark:text-slate-400">${formatBytes(result.size)} â€¢ ${result.rows} rows</div>` : 
                                `<div class="text-red-600 dark:text-red-400">${result.error}</div>`}
                        </div>
                    </div>
                    ${result.success ? `
                        <button onclick="downloadSingleFile(${index})" class="ml-2 px-2 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/40 rounded transition flex items-center gap-1">
                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                            Download
                        </button>
                    ` : ''}
                </div>
            `).join('');
        }

        window.removeFile = function(index) {
            uploadedFiles.splice(index, 1);
            updateFileList();
        };

        window.downloadSingleFile = function(index) {
            const result = processedResults[index];
            if (result && result.success) {
                const blob = new Blob([result.content], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = result.fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        };

        function handleFiles(files) {
            const newFiles = Array.from(files).filter(file => 
                file.type === 'application/json' || file.name.endsWith('.json') || file.name.endsWith('.txt')
            );
            
            if (newFiles.length === 0) {
                showResult('error', 'Invalid Files', 'Please upload JSON or text files only.');
                return;
            }
            
            uploadedFiles = [...uploadedFiles, ...newFiles];
            updateFileList();
            jsonInput.value = '';
            hideResult();
        }

        // Drag & Drop handlers
        uploadBtn.addEventListener('click', () => {
            fileInput.click();
        });

        dropZone.addEventListener('click', (e) => {
            if (e.target === jsonInput) return;
            fileInput.click();
        });

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, (e) => {
                e.preventDefault();
                e.stopPropagation();
            });
        });

        ['dragenter', 'dragover'].forEach(eventName => {
            dropZone.addEventListener(eventName, () => {
                dropOverlay.classList.remove('hidden');
                dropOverlay.classList.add('flex');
            });
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropZone.addEventListener(eventName, () => {
                dropOverlay.classList.add('hidden');
                dropOverlay.classList.remove('flex');
            });
        });

        dropZone.addEventListener('drop', (e) => {
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
            fileInput.value = '';
        });

        function escapeCSV(value, delimiter) {
            if (value === null || value === undefined) return '';
            const str = String(value);
            if (str.includes(delimiter) || str.includes('\n') || str.includes('"')) {
                return '"' + str.replace(/"/g, '""') + '"';
            }
            return str;
        }

        function flattenObject(obj, prefix = '') {
            const flattened = {};
            for (const key in obj) {
                const value = obj[key];
                const newKey = prefix ? `${prefix}.${key}` : key;
                if (value === null || value === undefined) {
                    flattened[newKey] = '';
                } else if (Array.isArray(value)) {
                    flattened[newKey] = JSON.stringify(value);
                } else if (typeof value === 'object') {
                    Object.assign(flattened, flattenObject(value, newKey));
                } else {
                    flattened[newKey] = value;
                }
            }
            return flattened;
        }

        function jsonToCSV(jsonData, delimiter, includeHeader) {
            if (!Array.isArray(jsonData)) {
                throw new Error('JSON data must be an array of objects');
            }
            if (jsonData.length === 0) {
                throw new Error('JSON array is empty');
            }
            
            const flattenedData = jsonData.map(obj => flattenObject(obj));
            const allKeys = new Set();
            flattenedData.forEach(obj => {
                Object.keys(obj).forEach(key => allKeys.add(key));
            });
            const columns = Array.from(allKeys);
            
            const rows = [];
            if (includeHeader) {
                rows.push(columns.map(col => escapeCSV(col, delimiter)).join(delimiter));
            }
            
            flattenedData.forEach(obj => {
                const row = columns.map(col => escapeCSV(obj[col], delimiter));
                rows.push(row.join(delimiter));
            });
            
            return {
                csv: rows.join('\n'),
                rowCount: flattenedData.length,
                columnCount: columns.length
            };
        }

        async function convertJSON() {
            const delimiter = delimiterSelect.value === '\\t' ? '\t' : delimiterSelect.value;
            const includeHeader = includeHeaderCheckbox.checked;
            
            if (uploadedFiles.length === 0) {
                const input = jsonInput.value.trim();
                if (!input) {
                    showResult('error', 'Empty Input', 'Please paste JSON data or upload files.');
                    return;
                }
                
                try {
                    const jsonData = JSON.parse(input);
                    const result = jsonToCSV(jsonData, delimiter, includeHeader);
                    csvOutput.value = result.csv;
                    showResult('success', 'Conversion Successful', 
                        `Successfully converted ${result.rowCount} rows with ${result.columnCount} columns.`);
                    updateStats(result.csv, result.rowCount, result.columnCount);
                } catch (e) {
                    showResult('error', 'Conversion Failed', e.message);
                    csvOutput.value = '';
                    updateStats('', 0, 0);
                }
                return;
            }
            
            // Process uploaded files
            processedResults = [];
            
            for (const file of uploadedFiles) {
                try {
                    const content = await file.text();
                    const jsonData = JSON.parse(content);
                    const result = jsonToCSV(jsonData, delimiter, includeHeader);
                    
                    processedResults.push({
                        fileName: file.name.replace(/\.(json|txt)$/, '') + '.csv',
                        content: result.csv,
                        size: new Blob([result.csv]).size,
                        rows: result.rowCount,
                        success: true
                    });
                } catch (error) {
                    processedResults.push({
                        fileName: file.name,
                        error: error.message,
                        success: false
                    });
                }
            }
            
            updateProcessedList();
            
            const successCount = processedResults.filter(r => r.success).length;
            const failCount = processedResults.length - successCount;
            
            if (successCount > 0) {
                showResult('success', 'Processing Complete', 
                    `Successfully processed ${successCount} file${successCount > 1 ? 's' : ''}${failCount > 0 ? `, ${failCount} failed` : ''}.`);
                
                const firstSuccess = processedResults.find(r => r.success);
                if (firstSuccess) {
                    csvOutput.value = firstSuccess.content;
                    updateStats(firstSuccess.content, firstSuccess.rows, firstSuccess.rows);
                }
            } else {
                showResult('error', 'Processing Failed', 'All files failed to process.');
            }
        }

        convertBtn.addEventListener('click', convertJSON);

        downloadAllBtn.addEventListener('click', () => {
            const successResults = processedResults.filter(r => r.success);
            if (successResults.length === 0) return;
            
            successResults.forEach((result, index) => {
                setTimeout(() => {
                    const blob = new Blob([result.content], { type: 'text/csv' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = result.fileName;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, index * 100);
            });
        });

        pasteBtn.addEventListener('click', async () => {
            try {
                const text = await navigator.clipboard.readText();
                jsonInput.value = text;
                hideResult();
            } catch (err) {
                console.error('Failed to paste:', err);
            }
        });

        clearBtn.addEventListener('click', () => {
            jsonInput.value = '';
            csvOutput.value = '';
            uploadedFiles = [];
            processedResults = [];
            updateFileList();
            updateProcessedList();
            hideResult();
            updateStats('', 0, 0);
            fileInput.value = '';
        });

        sampleBtn.addEventListener('click', () => {
            jsonInput.value = JSON.stringify(sampleData, null, 2);
            uploadedFiles = [];
            updateFileList();
            hideResult();
        });

        copyBtn.addEventListener('click', () => {
            const output = csvOutput.value;
            if (!output) {
                showResult('error', 'Nothing to Copy', 'Convert JSON to CSV first.');
                return;
            }
            
            navigator.clipboard.writeText(output).then(() => {
                const originalHTML = copyBtn.innerHTML;
                copyBtn.innerHTML = '<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Copied!';
                copyBtn.classList.remove('bg-green-50', 'text-green-600');
                copyBtn.classList.add('bg-green-600', 'text-white');
                
                setTimeout(() => {
                    copyBtn.innerHTML = originalHTML;
                    copyBtn.classList.remove('bg-green-600', 'text-white');
                    copyBtn.classList.add('bg-green-50', 'text-green-600');
                }, 2000);
            });
        });

        // Auto-validate textarea input
        let validationTimeout;
        jsonInput.addEventListener('input', () => {
            clearTimeout(validationTimeout);
            validationTimeout = setTimeout(() => {
                const input = jsonInput.value.trim();
                if (input && uploadedFiles.length === 0) {
                    try {
                        const parsed = JSON.parse(input);
                        if (Array.isArray(parsed)) {
                            inputStatus.classList.remove('hidden');
                            inputStatus.classList.remove('text-red-600');
                            inputStatus.classList.add('text-green-600');
                            statusIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
                            statusText.textContent = `Valid JSON Array (${parsed.length} items)`;
                        } else {
                            inputStatus.classList.remove('hidden');
                            inputStatus.classList.remove('text-green-600');
                            inputStatus.classList.add('text-red-600');
                            statusIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
                            statusText.textContent = 'Must be a JSON array';
                        }
                    } catch (e) {
                        inputStatus.classList.remove('hidden');
                        inputStatus.classList.remove('text-green-600');
                        inputStatus.classList.add('text-red-600');
                        statusIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>';
                        statusText.textContent = 'Invalid JSON';
                    }
                } else {
                    inputStatus.classList.add('hidden');
                }
            }, 500);
        });

        // Initialize
        updateStats('', 0, 0);
    </script>
</body>
</html>
